!function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);function r(e){let t=[],n=0;const r=new Date;return function e(u,o,a){let c;u.length>1&&(o="number"!=typeof o?0:o,a="number"!=typeof a?u.length-1:a,c=function(e,t,n){let r=e[Math.floor((n+t)/2)],u=t,o=n;for(;u<=o;){for(;e[u]<r;)u++;for(;e[o]>r;)o--;u<=o&&(l(e,u,o,r),u++,o--)}return u}(u,o,a),o<c-1&&e(u,o,c-1),c<a&&e(u,c,a));const i=new Date-r;return{stepsAmount:n,steps:t,arrLength:u.length,calculationTime:i}}(e);function l(e,r,l,u){n++;const o=e[r];e[r]=e[l],e[l]=o,t=[...t,{pivot:u,step:[...e]}]}}const l=document.querySelector("#canvas"),u=l.getContext("2d"),o=document.querySelector("#arraySize"),a=document.querySelector("#stepsQuantity"),c=document.querySelector("#delay"),i=document.querySelector("#start"),s=document.querySelector("#arraySizeLabel"),f=document.querySelector("#timeSpent"),d=document.querySelector("#bubble"),m=(document.querySelector("#quick"),document.querySelector("#stepNumber")),p=(e,t,n,r,l,o,a,c)=>{new Promise((t,l)=>{setTimeout(()=>((e,t,n,r,l,o)=>{u.clearRect(0,0,canvas.width,canvas.height),m.innerHTML="Step number:"+e;for(let e=0;e<l;e++)u.beginPath(),u.rect(e,canvas.height,1,-t[e]),u.fillStyle=n&&e===n?"black":r&&r.includes(e)?e===r[0]?"blue":"orange":"red",u.fill(),o()})(o,e,n,r,a,t),.5*c)}).then(()=>{setTimeout(()=>((e,t,n,r,l)=>{u.clearRect(0,0,canvas.width,canvas.height);for(let o=0;o<r;o++)u.beginPath(),u.rect(o,canvas.height,1,-e[o]),u.fillStyle=n&&o===n&&!t?"black":l&&l.includes(o)?o===l[0]?"orange":"blue":"red",u.fill()})(e,t,n,a,l),.5*c)})};i.addEventListener("click",()=>{const e=+o.value,t=Array(e).fill().map(t=>Math.floor(Math.random()*e)).map(e=>0===e?e+1:e),n=d.checked?(e=>{let t,n=[];const r=new Date;let l;do{t=!1;for(let r=0;r<e.length;r++)if(e[r]>e[r+1]){let l=e[r];e[r]=e[r+1],e[r+1]=l,n=[...n,[...e]],t=!0}}while(t);return l=new Date-r,{stepsAmount:n.length,steps:n,arrLength:e.length,calculationTime:l}})(t):r(t),{arrLength:u,stepsAmount:i,steps:s,calculationTime:m}=n;l.width=u,l.height=u,a.innerHTML="Total steps:"+i,f.innerHTML="Calculation time, ms: "+m;for(let e=0;e<i;e++)if(Array.isArray(s[0])){const t=s[e],n=e+1===i,r=null;let l=e+1;const o=e>0?s[e-1]:null,a=s[e+1],f=e!==i-1?t.map((e,t)=>e===a[t]?null:t).filter(e=>null!==e):null,d=e>0?t.map((e,t)=>e===o[t]?null:t).filter(e=>null!==e):null;setTimeout(()=>p(t,n,r,d,f,l,u,+c.value),e*+c.value)}else{const t=s[e].step,n=e+1===i,r=s[e].pivot;let l=e+1;const o=e>0?s[e-1].step:null,a=e!==i-1?s[e+1].step:null,f=e!==i-1?t.map((e,t)=>e===a[t]?null:t).filter(e=>null!==e):null,d=e>0?t.map((e,t)=>e===o[t]?null:t).filter(e=>null!==e):null;setTimeout(()=>p(t,n,r,d,f,l,u,+c.value),e*+c.value)}}),o.addEventListener("change",e=>s.innerHTML="Array size: "+e.target.value),c.addEventListener("change",e=>delayLabel.innerHTML="Delay, ms: "+e.target.value)}]);